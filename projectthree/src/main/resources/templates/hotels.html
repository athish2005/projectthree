<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Hotels</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:'Poppins',sans-serif;background:#f2f7ff;padding:20px;}
.hotel-card{background:white;padding:15px;margin:10px 0;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
button{background:#3498db;color:white;padding:8px 15px;border:none;border-radius:6px;cursor:pointer;}
button:hover{background:#2980b9;}
</style>
</head>
<body>
<h2>üè® Available Hotels</h2>
<input type="text" id="city" placeholder="Search by city">
<button onclick="searchHotels()">Search</button>
<div id="hotels"></div>

<script>
async function loadHotels(url='/api/hotels'){
 const res=await fetch(url);
 const data=await res.json();
 const list=document.getElementById('hotels');
 list.innerHTML='';
 data.forEach(h=>{
   list.innerHTML+=`<div class='hotel-card'>
   <h3>${h.name}</h3><p>${h.city}</p><p>${h.description}</p>
   <button onclick="viewRooms(${h.id})">View Rooms</button></div>`;
 });
}
function searchHotels(){
 const city=document.getElementById('city').value;
 loadHotels(`/api/hotels/search?city=${city}`);
}
function viewRooms(id){window.location.href='/rooms?hotelId='+id;}
loadHotels();
</script>
</body></html>
